{% load static %}
{% load crispy_forms_tags %}
<!doctype html>
<html lang="en">

<head>
   <meta charset="utf-8">
   <meta name="viewport" content="width=device-width, initial-scale=1">
   <link rel="shortcut icon" href="{%  static 'favicon.ico' %}">
   <title>Campus Cart | {{ title }}</title>
   <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
      integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
   <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
      crossorigin="anonymous"></script>
   <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
      integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
      crossorigin="anonymous"></script>
   <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js"
      integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+"
      crossorigin="anonymous"></script>
   <link href="https://fonts.googleapis.com/css2?family=Rubik:ital,wght@1,300..900&display=swap" rel="stylesheet">
   <link rel="stylesheet" href="{% static 'css/login.css' %}" type="text/css" />
</head>

<body>
   {% if messages %}
   {% for message in messages %}
   <div class="alert alert-{{ message.tags }} alert-dismissible fade show w-75" role="alert">
      {{message}}
      <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
   </div>
   {% endfor %}
   {% endif %}
   <div class="logo-container mt-4 text-center d-flex align-items-center flex-column justify-content-center">
      <div class="logo">
         <span class="campus">CAMPUS</span>
         <span class="cart">CART</span>
      </div>
   </div>
   <div class="login-container d-flex align-items-center justify-content-center m-auto w-100">
      <div class="register-box d-flex align-items-center justify-content-center">
         <div class="login-container-box">
            <h2 class="text-center">Create a New Account</h2>
            <form method="post" enctype="multipart/form-data">
               {% csrf_token %}
               <div class="row g-3">
                  {% for field in form %}
                  <div class="col-sm-6">
                     {{ field|as_crispy_field }}
                  </div>
                  {% endfor %}
               </div>
               <input type="submit" class="login-submit" />
            </form>
            <div class="or-tag"><span class="or-tag-span">or</span></div>
            <a class="go-to-register" href="{% url 'accounts:login' %}">Log In</a>
         </div>
      </div>
   </div>
   <div class="wrapper display-none">
      <div class="loader"></div>
   </div>
</body>
<script>
   const registerForm = document.querySelector('form');
   registerForm.onsubmit = () => {
      document.querySelector('.wrapper').classList.remove('display-none');
   }
</script>

</html>